{% extends 'main.html' %} 
{% load static %} 
{% load crispy_forms_tags %}
{% block header %}  {% include "matter_form_headercss_extension.html" %}
    <!--  END CUSTOM STYLE FILE  -->

{% endblock header %} 

{% block content %}
<!----- cut off ---->
<!-- <div class="layout-px-spacing"> -->

    <div class="page-breadcrumb">
        <div class="row">
            <div class="col-12 d-flex no-block align-items-center">
                <h4 class="page-title">New Matter</h4>
                <div class="ms-auto text-end">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Matter</a></li>
                            <li class="breadcrumb-item active" aria-current="page">
                                Facts and Documents
                            </li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">

        <div class="row">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Steps</h6>
                    </div>
                    <div class="card-body-old">
    
                        <ul class="list-style-none">
                            <li class="d-flex no-block card-body" style="padding:0.5rem;">
                            <i class="far fa-stop-circle fs-4 w-30px"></i>
                            <div>
                                <a href="#" class="mb-0 font-medium p-0">Matter Information</a>
                            </div>
                            </li>
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                            <i class="far fa-stop-circle fs-4 w-30px"></i>
                            <div>
                                <a href="#" class="mb-0 font-medium p-0">Matter Attorney</a>
                            </div>
                            </li>
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Conflict Info (Co-parties)</a>
                                </div>
                            </li>
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Conflict Info (Adverse Party)</a>
                                </div>
                            </li>
    
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Conflict Info (Other Name)</a>
                                </div>
                            </li>
    
                            <li class="d-flex no-block card-body border-top" style="background: rgb(243, 242, 242); padding:0.5rem;">
                                <i class="far fa-play-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Fact & Documents</a>
                                </div>
                            </li>
    
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Nature of Claim (Civil)</a>
                                </div>
                            </li>
    
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Nature of Claim (Criminal}</a>
                                </div>
                            </li>
    
                            <li class="d-flex no-block card-body border-top" style="padding:0.5rem;">
                                <i class="far fa-stop-circle fs-4 w-30px"></i>
                                <div>
                                <a href="#" class="mb-0 font-medium p-0">Description</a>
                                </div>
                            </li>
    
                        </ul>
    
    
                    </div>
    
                </div>
            </div>

            <div class="col-lg-9">
                <div class="card shadow mb-4-old">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Facts and Documents</h6>
                    </div>
                    <form method="POST" id="formElem" name="formElem" enctype="multipart/form-data">
                        {% csrf_token %}
                    
    
                        <div class="card-body">   
                            <div class="row">
                                <div class="col-md-12 mx-auto">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="address">File Number</label>
                                                <input type="text" class="form-control mb-4-old" name="file_no" id="file_no" value="{{request.session.file_no}}" readonly>
                                            </div>                
                                        </div>
                                    </div>
                                    <h6>  Upload a single for each type of document as may be required </h6>  <br/> 
                                    <div class="row">
                                        {% if matterDoc.writ_of_summon %}
                                        <div class="col-md-6">
                                            <span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.writ_of_summon}}" download> Writ of Summon  </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.writ_of_summon}}" download><span class="btn btn-sm btn-secondary deleteFile" id="writ_of_summon"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="writ_of_summon"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="writ_of_summon"><i class="fas fa-times"></i></span>
                                        </div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.writ_of_summon}}</div> 
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                                    <div class="row" id="statement_of_claim">
                                        {% if matterDoc.statement_of_claim %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.statement_of_claim}}" download> Statement of Claim  </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.statement_of_claim}}" download><span class="btn btn-sm btn-secondary deleteFile" id="statement_of_claim"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id=""><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="statement_of_claim"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.statement_of_claim}}</div> 
                                        {%  endif %}
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        {% if matterDoc.witness_statement_on_oath %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.witness_statement_on_oath}}" download> Witness Statement on Oath </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.witness_statement_on_oath}}" download><span class="btn btn-sm btn-secondary deleteFile" id="witness_statement_on_oath"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="witness_statement_on_oath"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="witness_statement_on_oath"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.witness_statement_on_oath}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                                    <div class="row">
                                        {% if matterDoc.affidavit %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.affidavit}}" download> Affidavit </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.affidavit}}" download><span class="btn btn-sm btn-secondary deleteFile" id="affidavit"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="affidavit"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="affidavit"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.affidavit}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                        
                                    <div class="row">
                                        {% if matterDoc.motion_exparte %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.motion_exparte}}" download> Motion Exparte </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.motion_exparte}}" download><span class="btn btn-sm btn-secondary deleteFile" id="motion_exparte"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="motion_exparte"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="motion_exparte"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.motion_exparte}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                        
                                    <div class="row">
                                        {% if matterDoc.statement_of_defense %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.statement_of_defense}}" download> Statement_of Defense </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.statement_of_defense}}" download><span class="btn btn-sm btn-secondary deleteFile" id="statement_of_defense"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="statement_of_defense"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="statement_of_defense"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.statement_of_defense}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                        
                                    <div class="row">
                                        {% if matterDoc.motion_on_notice %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.motion_on_notice}}" download> Motion on Notice </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.motion_on_notice}}" download><span class="btn btn-sm btn-secondary deleteFile" id="motion_on_notice"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="motion_on_notice"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="motion_on_notice"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.motion_on_notice}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                                    <div class="row">
                                        {% if matterDoc.reply_doc %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.reply_doc}}" download> Reply Document </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.reply_doc}}" download><span class="btn btn-sm btn-secondary deleteFile" id="reply_doc"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="reply_doc"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="reply_doc"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.reply_doc}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                                    <div class="row">
                                        {% if matterDoc.written_address %}
                                            <div class="col-md-6"><span class="ml-5"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.written_address}}" download> Written Address </a> </span></div>
                                            <div class="col-md-2"><a style="color:rgb(7, 107, 85);" href="../../media/{{matterDoc.written_address}}" download><span class="btn btn-sm btn-secondary deleteFile" id="written_address"><i class="fas fa-cloud-download-alt"></i></span></a></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary viewFile" id="written_address"><i class="fas fa-eye"></i></span></div>
                                            <div class="col-md-2"><span class="btn btn-sm btn-secondary deleteFile" id="written_address"><i class="fas fa-times"></i></span></div>                                           
                                        {% else %}
                                            <div class="col-md-12 ml-5">{{form.written_address}}</div>                                                                       
                                        {%  endif %}
                                    </div>
                                    <hr/>
                        
                                </div>
                                <!-- </form> -->
                            </div>
                        </div>
                        
                            {{ form.errors }}
    
                        <br/>
                        <!-- </div> -->
                        <div class="card-footer">
                            <div class="row">                    
                                <div class="col-lg-6">
                                    <input type="submit" class="btn btn-block btn-secondary" value="Continue.." />
                                </div>            
                                <div class="col-lg-6">                
                                    <a id="multiple-messages" href="{% url 'matter' %}" class="btn btn-block btn-warning text-black">Cancel All Information</a>
                                </div>
                            </div>
                        </div>
    
                    </form>
    
                </div>
            </div>
        </div>
    </div>








{% endblock content %} 


{% block footerjs %}
<!-- ENDS SCRIPTS -->

<!----- cut off ---->
{% include  "matter_form_footercss_extension.html" %}

<script type="text/javascript">
    $(document).ready(function(){

        
        
        $(document).on('click', '.deleteFile', function(){              
            let id = $(this).attr("id").trim();
            let file_no = $('#file_no').val();
            let csrfmiddlewaretoken = $('input[name="csrfmiddlewaretoken"]').val();
            console.log(id);
            $.ajax({
                type: "POST",
                // data: formData,
                url: "{% url 'delete-matter-data' %}",
                data: {
                    file_no: file_no,
                    field: id,
                    csrfmiddlewaretoken: csrfmiddlewaretoken,
                    page: 'matter_document'
                },                        
                datatype: 'json',
                dataSrc: "",

                success:function(response) {
                    if(response){
                        location.reload();
                        tryc("success", "Success: Record deleted !");
                    }else{
                        tryc("error", "Failed: Record not deleted !");
                    }
                    
                },
                onerror:function(){
                    tryc("error", "Failed: Record not deleted !");
                }
            })

        });







    });



</script>


  {% endblock footerjs %}